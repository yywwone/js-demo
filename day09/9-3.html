<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script>
function selectAll(){		
		var allcheckboxs=document.getElementsByName("isBuy")
			if(document.getElementById("a").value=="全  选")
			{
				for(var i=0;i<allcheckboxs.length;i++)
				{
				allcheckboxs[i].checked=true;
				}
				document.getElementById("a").value="全不选"
			}else{
				for(var i=0;i<allcheckboxs.length;i++)
				{
					allcheckboxs[i].checked=false;
				}
				document.getElementById("a").value="全  选"
				}			
}
function selectback(){
	var m=0;//统计选中数量
	var n=0;//统计未选中数量
	var allcheckboxs=document.getElementsByName("isBuy")
				for(var i=0;i<allcheckboxs.length;i++)
				{
					if(allcheckboxs[i].checked==true)
					{
					allcheckboxs[i].checked=false;
						n++;
					}else
					{
					allcheckboxs[i].checked=true;
						m++;
					}
					
				}
	if(allcheckboxs.length==m)
	{
		document.myform.a.value="全不选";
	}
	if(allcheckboxs.length==n)
	{
		document.myform.a.value="全  选";
	}
}
function checkAll()
	{
	var m=0;//统计选中数量
	var n=0;//统计未选中数量
	var allcheckboxs=document.getElementsByName("isBuy")
				for(var i=0;i<allcheckboxs.length;i++)
				{
					if(allcheckboxs[i].checked==true)
					{
					
						m++;
					}else
					{
					
						n++;
					}
					
				}
	if(allcheckboxs.length==m)
	{
		document.myform.a.value="全不选";
	}
	if(allcheckboxs.length==n)
	{
		document.myform.a.value="全  选";
	}
}	
	
</script>
</head>

<body>
<table border="1" cellpadding="0" cellspacing="0" width="300">
	<tr>
		<td>
			<form name="myform">
				<input type="button" id="a" value="全  选" onClick="selectAll()">
                <input type="button" id="z" value="反  选" onClick="selectback()"> <br><br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">看书<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">上网<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">聊天<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">旅游<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">逛街<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">购物<br>
				<input type="checkbox" name="isBuy" onClick="checkAll()">唱歌<br>
			</form>
		</td>
	</tr>
	
</table>
</body>
</html>
